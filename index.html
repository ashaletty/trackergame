<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hygiene App</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { background: #0b071a; color: white; font-family: sans-serif; text-align: center; margin: 0; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px; }
        .card { 
            background: #1e143a; padding: 20px; border-radius: 20px; 
            border: 1px solid #8e2de2; font-size: 2rem; cursor: pointer;
            transition: 0.2s;
        }
        .card:active { transform: scale(0.9); background: #8e2de2; }
        .status { margin-top: 20px; color: #8e2de2; font-weight: bold; }
    </style>
</head>
<body>
    <h2>Ğ“Ğ¸Ğ³Ğ¸ĞµĞ½Ğ°</h2>
    <div class="grid">
        <div class="card" onclick="sendAction('Ğ ÑƒĞºĞ¸', 'ğŸ‘')">ğŸ‘</div>
        <div class="card" onclick="sendAction('Ğ—ÑƒĞ±Ñ‹', 'ğŸ¦·')">ğŸ¦·</div>
        <div class="card" onclick="sendAction('Ğ”ÑƒÑˆ', 'ğŸš¿')">ğŸš¿</div>
        <div class="card" onclick="sendAction('Ğ›Ğ¸Ñ†Ğ¾', 'ğŸ§¼')">ğŸ§¼</div>
        <div class="card" onclick="sendAction('Ğ’Ğ°Ğ½Ğ½Ğ°', 'ğŸ›')">ğŸ›</div>
        <div class="card" onclick="sendAction('Ğ“Ğ¾Ğ»Ğ¾Ğ²Ğ°', 'ğŸ§´')">ğŸ§´</div>
    </div>
    <div id="status" class="status">Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸ Ğ´ĞµĞ¹ÑÑ‚Ğ²Ğ¸Ğµ</div>

    <script>
        const tg = window.Telegram.WebApp;
        tg.expand(); // Ğ Ğ°ÑĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ½Ğ° Ğ²ĞµÑÑŒ ÑĞºÑ€Ğ°Ğ½

        function sendAction(name, emoji) {
            // Ğ’Ğ¸Ğ±Ñ€Ğ°Ñ†Ğ¸Ñ
            tg.HapticFeedback.impactOccurred('medium');
            
            // Ğ¤Ğ¾Ñ€Ğ¼Ğ¸Ñ€ÑƒĞµĞ¼ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ±Ğ¾Ñ‚Ğ°
            const data = {
                action: "mark",
                type: name,
                icon: emoji
            };

            // ĞĞ¢ĞŸĞ ĞĞ’Ğ›Ğ¯Ğ•Ğœ Ğ”ĞĞĞĞ«Ğ• Ğ‘ĞĞ¢Ğ£
            tg.sendData(JSON.stringify(data));
            
            document.getElementById('status').innerText = "Ğ—Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°Ñ: " + name + "...";
            
            // Ğ—Ğ°ĞºÑ€Ñ‹Ğ²Ğ°ĞµĞ¼ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· ÑĞµĞºÑƒĞ½Ğ´Ñƒ
            setTimeout(() => { tg.close(); }, 1000);
        }
    </script>
</body>
</html>
